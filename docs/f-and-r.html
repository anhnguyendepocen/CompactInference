<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 F and R | A Compact Guide to Classical Inference</title>
  <meta name="description" content="Chapter 8 F and R | A Compact Guide to Classical Inference" />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 F and R | A Compact Guide to Classical Inference" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 F and R | A Compact Guide to Classical Inference" />
  
  
  

<meta name="author" content="Daniel Kaplan" />


<meta name="date" content="2019-11-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="effect-size.html"/>
<link rel="next" href="confidence-intervals.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Compact Guide to Classical Inference</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="what-is-classical-inference.html"><a href="what-is-classical-inference.html"><i class="fa fa-check"></i><b>1</b> What is classical inference?</a><ul>
<li class="chapter" data-level="" data-path="what-is-classical-inference.html"><a href="what-is-classical-inference.html#and-why-should-i-read-this-book"><i class="fa fa-check"></i>… and why should I read this book?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-and-variables.html"><a href="data-and-variables.html"><i class="fa fa-check"></i><b>2</b> Data and variables</a><ul>
<li class="chapter" data-level="2.1" data-path="data-and-variables.html"><a href="data-and-variables.html#data-frames"><i class="fa fa-check"></i><b>2.1</b> Data frames</a></li>
<li class="chapter" data-level="2.2" data-path="data-and-variables.html"><a href="data-and-variables.html#tabulations"><i class="fa fa-check"></i><b>2.2</b> Tabulations</a></li>
<li class="chapter" data-level="2.3" data-path="data-and-variables.html"><a href="data-and-variables.html#quantitative-and-categorical"><i class="fa fa-check"></i><b>2.3</b> Quantitative and categorical</a></li>
<li class="chapter" data-level="2.4" data-path="data-and-variables.html"><a href="data-and-variables.html#indicator-variables"><i class="fa fa-check"></i><b>2.4</b> Indicator variables</a></li>
<li class="chapter" data-level="2.5" data-path="data-and-variables.html"><a href="data-and-variables.html#response-and-explanatory-variables"><i class="fa fa-check"></i><b>2.5</b> Response and explanatory variables</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="measuring-variation.html"><a href="measuring-variation.html"><i class="fa fa-check"></i><b>3</b> Measuring variation</a><ul>
<li class="chapter" data-level="3.1" data-path="measuring-variation.html"><a href="measuring-variation.html#variance-of-a-numerical-variable"><i class="fa fa-check"></i><b>3.1</b> Variance of a numerical variable</a></li>
<li class="chapter" data-level="3.2" data-path="measuring-variation.html"><a href="measuring-variation.html#variance-of-a-categorical-variable"><i class="fa fa-check"></i><b>3.2</b> Variance of a categorical variable</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="modeling-variation.html"><a href="modeling-variation.html"><i class="fa fa-check"></i><b>4</b> Modeling variation</a><ul>
<li class="chapter" data-level="4.1" data-path="modeling-variation.html"><a href="modeling-variation.html#statistical-models"><i class="fa fa-check"></i><b>4.1</b> Statistical models</a></li>
<li class="chapter" data-level="4.2" data-path="modeling-variation.html"><a href="modeling-variation.html#quantitative-response-variables"><i class="fa fa-check"></i><b>4.2</b> Quantitative response variables</a></li>
<li class="chapter" data-level="4.3" data-path="modeling-variation.html"><a href="modeling-variation.html#categorical-response-variables"><i class="fa fa-check"></i><b>4.3</b> Categorical response variables</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="model-values.html"><a href="model-values.html"><i class="fa fa-check"></i><b>5</b> Model values</a></li>
<li class="chapter" data-level="6" data-path="degrees-of-flexibility.html"><a href="degrees-of-flexibility.html"><i class="fa fa-check"></i><b>6</b> Degrees of flexibility</a><ul>
<li class="chapter" data-level="6.1" data-path="degrees-of-flexibility.html"><a href="degrees-of-flexibility.html#one-degree-of-flexibility"><i class="fa fa-check"></i><b>6.1</b> One degree of flexibility</a></li>
<li class="chapter" data-level="6.2" data-path="degrees-of-flexibility.html"><a href="degrees-of-flexibility.html#multiple-degrees-of-flexibility"><i class="fa fa-check"></i><b>6.2</b> Multiple degrees of flexibility</a></li>
<li class="chapter" data-level="6.3" data-path="degrees-of-flexibility.html"><a href="degrees-of-flexibility.html#covariates"><i class="fa fa-check"></i><b>6.3</b> Covariates</a></li>
<li class="chapter" data-level="6.4" data-path="degrees-of-flexibility.html"><a href="degrees-of-flexibility.html#flexibility-literally"><i class="fa fa-check"></i><b>6.4</b> Flexibility, literally</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="effect-size.html"><a href="effect-size.html"><i class="fa fa-check"></i><b>7</b> Effect size</a><ul>
<li class="chapter" data-level="7.1" data-path="effect-size.html"><a href="effect-size.html#slopes-and-differences"><i class="fa fa-check"></i><b>7.1</b> Slopes and differences</a></li>
<li class="chapter" data-level="7.2" data-path="effect-size.html"><a href="effect-size.html#risk"><i class="fa fa-check"></i><b>7.2</b> Risk</a></li>
<li class="chapter" data-level="7.3" data-path="effect-size.html"><a href="effect-size.html#simple-changes-in-input"><i class="fa fa-check"></i><b>7.3</b> Simple changes in input</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="f-and-r.html"><a href="f-and-r.html"><i class="fa fa-check"></i><b>8</b> F and R</a><ul>
<li class="chapter" data-level="8.1" data-path="f-and-r.html"><a href="f-and-r.html#whats-the-meaning-of-f"><i class="fa fa-check"></i><b>8.1</b> What’s the meaning of F?</a></li>
<li class="chapter" data-level="8.2" data-path="f-and-r.html"><a href="f-and-r.html#r-squared"><i class="fa fa-check"></i><b>8.2</b> R-squared</a></li>
<li class="chapter" data-level="8.3" data-path="f-and-r.html"><a href="f-and-r.html#f-in-statistics-books"><i class="fa fa-check"></i><b>8.3</b> F in statistics books</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="confidence-intervals.html"><a href="confidence-intervals.html"><i class="fa fa-check"></i><b>9</b> Confidence intervals</a><ul>
<li class="chapter" data-level="9.1" data-path="confidence-intervals.html"><a href="confidence-intervals.html#confidence-intervals-from-f"><i class="fa fa-check"></i><b>9.1</b> Confidence intervals from F</a></li>
<li class="chapter" data-level="9.2" data-path="confidence-intervals.html"><a href="confidence-intervals.html#why-4"><i class="fa fa-check"></i><b>9.2</b> Why 4?</a></li>
<li class="chapter" data-level="9.3" data-path="confidence-intervals.html"><a href="confidence-intervals.html#situations-where-f-doesnt-tell-enough"><i class="fa fa-check"></i><b>9.3</b> Situations where F doesn’t tell enough</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="so-called-statistical-significance.html"><a href="so-called-statistical-significance.html"><i class="fa fa-check"></i><b>10</b> So-called “statistical significance”</a><ul>
<li class="chapter" data-level="10.1" data-path="so-called-statistical-significance.html"><a href="so-called-statistical-significance.html#calculating-a-p-value"><i class="fa fa-check"></i><b>10.1</b> Calculating a p-value</a></li>
<li class="chapter" data-level="10.2" data-path="so-called-statistical-significance.html"><a href="so-called-statistical-significance.html#history-and-criticism"><i class="fa fa-check"></i><b>10.2</b> History and criticism</a></li>
<li class="chapter" data-level="10.3" data-path="so-called-statistical-significance.html"><a href="so-called-statistical-significance.html#appendix-when-df-geq-2"><i class="fa fa-check"></i><b>10.3</b> Appendix: When <span class="math inline">\(df \geq 2\)</span></a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="simple-means-and-proportions.html"><a href="simple-means-and-proportions.html"><i class="fa fa-check"></i><b>11</b> Simple means and proportions</a><ul>
<li class="chapter" data-level="11.1" data-path="simple-means-and-proportions.html"><a href="simple-means-and-proportions.html#no-flexibility-df-0"><i class="fa fa-check"></i><b>11.1</b> No flexibility: df = 0</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="comparing-models.html"><a href="comparing-models.html"><i class="fa fa-check"></i><b>12</b> Comparing models</a></li>
<li class="chapter" data-level="13" data-path="outside-the-normal-situation.html"><a href="outside-the-normal-situation.html"><i class="fa fa-check"></i><b>13</b> Outside the normal situation</a></li>
<li class="chapter" data-level="14" data-path="remember-inference-isnt-everything.html"><a href="remember-inference-isnt-everything.html"><i class="fa fa-check"></i><b>14</b> Remember, inference isn’t everything</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Compact Guide to Classical Inference</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="f-and-r" class="section level1">
<h1><span class="header-section-number">Chapter 8</span> F and R</h1>
<p>We now have the pieces we need to assemble the central quantity which informs statistical inference. These are:</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(n\)</span>, the sample size (or, more concretely, the number of rows in out data frame)</li>
<li><span class="math inline">\(v_r\)</span>, the variance of the response variable. <span class="math inline">\(v_r\)</span> for binary categorical response variables is based on the 0-1 encoding.</li>
<li><span class="math inline">\(v_m\)</span>, the variance of the model values.</li>
<li><span class="math inline">\(df\)</span>, the <em>degree of flexibility</em>.<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a></li>
</ol>
<p>We’ll put these together to form a quantity called F. (The name, F, is in honor of Ronald Fisher, one of the leading statisticians of the first half of the 20th.) The formula for F is pretty simple, so I’ll present it right here for ready reference.</p>
<p><span class="math display">\[F \equiv \frac{n - (1 + df)}{df} \frac{v_m}{v_r - v_m}\]</span>
For almost all the settings considered in introductory statistics courses, <span class="math inline">\(df\)</span> is 1, so the formula simplifies to:
<span class="math display">\[F =  (n-1) \frac{v_m}{v_r - v_m}\]</span></p>
<div id="whats-the-meaning-of-f" class="section level2">
<h2><span class="header-section-number">8.1</span> What’s the meaning of F?</h2>
<p>F combines the four quantities <span class="math inline">\(n\)</span>, <span class="math inline">\(v_r\)</span>, <span class="math inline">\(v_m\)</span>, and <span class="math inline">\(df\)</span>. To get a notion why the combination works, keep these basic ideas in mind concerning what it means to have “more evidence.”</p>
<ul>
<li>The larger <span class="math inline">\(n\)</span>, the more evidence. That’s why F is more-or-less proportional to <span class="math inline">\(n\)</span>. (Strictly speaking, F is proportional to <span class="math inline">\(n - (1+df)\)</span>.)</li>
<li>The more complicated the model – e.g. the number of explanatory variables or levels in an explanatory categorical variable – the less evidence. Or, put another way, we would want more evidence from data to justify a complicated model than a simple model. The division by <span class="math inline">\(df\)</span> in the formula for F implements this idea.</li>
<li>The closer the model values come to capturing the actual response variable, the greater the evidence that there is a relationship. An obvious
way to quantify this closeness are with the difference <span class="math inline">\(v_r - v_m\)</span>. We want the size of F to increase as <span class="math inline">\(v_m\)</span> gets closer to <span class="math inline">\(v_r\)</span>. So F is proportional to <span class="math inline">\(\frac{1}{v_r - v_m}\)</span>.</li>
<li>But the numerical value of the difference <span class="math inline">\(v_r - v_m\)</span> depends on the units in which the response variable is measured. For instance, we could express the running times in Chapter 1 in minutes or in seconds. But the difference <span class="math inline">\(v_r - v_m\)</span> would be <span class="math inline">\(60^2 = 3600\)</span> times larger if we used seconds than minutes. Obviously we don’t want our F value to depend on the units used. To avoid that, we divide <span class="math inline">\(v_r - v_m\)</span> by <span class="math inline">\(v_m\)</span>, getting the <span class="math inline">\(v_m / (v_r - v_m)\)</span> in the formula for F.</li>
</ul>
</div>
<div id="r-squared" class="section level2">
<h2><span class="header-section-number">8.2</span> R-squared</h2>
<p>Many people prefer to look at a ratio <span class="math inline">\(v_m / v_r\)</span> to quantify how close the model values are to the values of the response variable. If the model does a good job accounting for the response variable, then <span class="math inline">\(v_m\)</span> will be close to <span class="math inline">\(v_r\)</span>. That is, the ratio will be close to 1. On the other hand, if the model tells us little or nothing about the response variable, <span class="math inline">\(v_m\)</span> will be close to zero and the ratio itself will be zero.</p>
<p>The ratio has a famous name: *R-squared$, that is:</p>
<p><span class="math display">\[R^2 = v_m / v_r\]</span>
Another, more obscure name for <span class="math inline">\(R^2\)</span> is <em>coefficient of determination</em>, which is awkward but does express the point that <span class="math inline">\(R^2\)</span> is about the extent to which the explanatory variables, when passed through the model, determine the response variable.</p>
<ul>
<li>Biggest possible <span class="math inline">\(R^2\)</span> is 1, which can only occur when the model values are exactly the same as the values of the response variable.</li>
</ul>
<p><span class="math inline">\(R^2\)</span> is, literally, the faction of the variation in the response variable that has been captured by the model.</p>
<ul>
<li><span class="math inline">\(R^2\)</span> is never negative. This is part of the reason why keeping track of <span class="math inline">\(df\)</span> is important when there are multiple explanatory variables, or, to be more precise, multiple explanatory vectors.</li>
</ul>
</div>
<div id="f-in-statistics-books" class="section level2">
<h2><span class="header-section-number">8.3</span> F in statistics books</h2>
<p>In most statistics book, F is not written in the form above but in one of a couple of alternative – but equivalent – forms. There’s no particular reason to use these forms. Knowing what they look like will help you make sense of traditional statistical reports.</p>
<p>Since <span class="math inline">\(R^2\)</span> summarizes the relationship between <span class="math inline">\(v_m\)</span> and <span class="math inline">\(v_r\)</span>, the formula for F can be written in terms of <span class="math inline">\(R^2\)</span>. This is the first of the alternative forms.</p>
<p><span class="math display">\[F = \frac{n - (1+df)}{df} \frac{R^2}{1 - R^2}\]</span></p>
<p>Another alternative form comes from using an intermediate in the calculation of <span class="math inline">\(v_m\)</span> and <span class="math inline">\(v_r\)</span>. Recall how the variance is calculated by calculating square differences and averaging. To average, of course, you add together the quantities and then divide by the number of quantities being averaged.</p>
<p>Suppose you didn’t bother to average, and stopped after adding up the square differences. The name for this intermediate is the <em>sum of squares</em>.
F is often written in terms of the sum of squares of the response variable SS_r_ and of the model values SS_m_. Something like this:</p>
<p><span class="math display">\[F = \frac{n - (1+df)}{df} \frac{\mbox{SS}_m}{\mbox{SS}_r - \mbox{SS}_m}\]</span></p>
<p>More typically, instead instead of looking at the model values directly, the tradition in classical inference is to consider what’s called the <em>sum of squares of the residuals</em>, which is simply SSR = <span class="math inline">\(\mbox{SS}_r - \mbox{SS}_m\)</span> and the formula is re-written like this:</p>
<p><span class="math display">\[F = \frac{\mbox{SS}_m / df}{SSR / (n -  (1+df))}.\]</span>
Both the numerator and the denominator of this ratio have the form of a sum of squares divided by a count. In the terminology of classical inference, such things are called <em>mean squares</em>.</p>
<p>In this book, we’ll just use the formula for F given at the start of this chapter. The others give exactly the same value, but let’s avoid having ton work with potentially confusing vocabulary such as the mean square and sum of squares.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="3">
<li id="fn3"><p>This is a non-standard name. The convention is to refer to the quantity <span class="math inline">\(n - (df + 1)\)</span> as the <em>degrees of <strong>freedom</strong></em>.<a href="f-and-r.html#fnref3" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="effect-size.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="confidence-intervals.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["Compact_inference.pdf", "Compact_inference.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
